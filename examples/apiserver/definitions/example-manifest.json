{
    "apiVersion": "apps.grafana.com/v1alpha2",
    "kind": "AppManifest",
    "metadata": {
        "name": "example"
    },
    "spec": {
        "appName": "example",
        "group": "example.ext.grafana.com",
        "versions": [
            {
                "name": "v0alpha1",
                "served": true,
                "kinds": [
                    {
                        "kind": "TestKind",
                        "plural": "TestKinds",
                        "scope": "Namespaced",
                        "schemas": {
                            "OperatorState": {
                                "additionalProperties": false,
                                "properties": {
                                    "descriptiveState": {
                                        "description": "descriptiveState is an optional more descriptive state field which has no requirements on format",
                                        "type": "string"
                                    },
                                    "details": {
                                        "additionalProperties": {
                                            "additionalProperties": {},
                                            "type": "object"
                                        },
                                        "description": "details contains any extra information that is operator-specific",
                                        "type": "object"
                                    },
                                    "lastEvaluation": {
                                        "description": "lastEvaluation is the ResourceVersion last evaluated",
                                        "type": "string"
                                    },
                                    "state": {
                                        "description": "state describes the state of the lastEvaluation.\nIt is limited to three possible states for machine evaluation.",
                                        "enum": [
                                            "success",
                                            "in_progress",
                                            "failed"
                                        ],
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "lastEvaluation",
                                    "state"
                                ],
                                "type": "object"
                            },
                            "TestKind": {
                                "properties": {
                                    "spec": {
                                        "$ref": "#/components/schemas/spec"
                                    },
                                    "status": {
                                        "$ref": "#/components/schemas/status"
                                    }
                                },
                                "required": [
                                    "spec"
                                ]
                            },
                            "spec": {
                                "additionalProperties": false,
                                "properties": {
                                    "testField": {
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "testField"
                                ],
                                "type": "object"
                            },
                            "status": {
                                "additionalProperties": false,
                                "properties": {
                                    "additionalFields": {
                                        "additionalProperties": {
                                            "additionalProperties": {},
                                            "type": "object"
                                        },
                                        "description": "additionalFields is reserved for future use",
                                        "type": "object"
                                    },
                                    "operatorStates": {
                                        "additionalProperties": {
                                            "$ref": "#/components/schemas/OperatorState"
                                        },
                                        "description": "operatorStates is a map of operator ID to operator state evaluations.\nAny operator which consumes this kind SHOULD add its state evaluation information to this field.",
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        },
                        "conversion": true
                    }
                ]
            },
            {
                "name": "v1alpha1",
                "served": true,
                "kinds": [
                    {
                        "kind": "TestKind",
                        "plural": "TestKinds",
                        "scope": "Namespaced",
                        "admission": {
                            "validation": {
                                "operations": [
                                    "CREATE",
                                    "UPDATE"
                                ]
                            }
                        },
                        "schemas": {
                            "Bar": {
                                "additionalProperties": false,
                                "properties": {
                                    "baz": {
                                        "$ref": "#/components/schemas/Baz"
                                    },
                                    "value": {
                                        "default": "bar",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "value",
                                    "baz"
                                ],
                                "type": "object"
                            },
                            "Baz": {
                                "additionalProperties": false,
                                "properties": {
                                    "value": {
                                        "default": 10,
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "value"
                                ],
                                "type": "object"
                            },
                            "Foo": {
                                "additionalProperties": false,
                                "properties": {
                                    "bar": {
                                        "$ref": "#/components/schemas/Bar"
                                    },
                                    "foo": {
                                        "default": "foo",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "foo",
                                    "bar"
                                ],
                                "type": "object"
                            },
                            "OperatorState": {
                                "additionalProperties": false,
                                "properties": {
                                    "descriptiveState": {
                                        "description": "descriptiveState is an optional more descriptive state field which has no requirements on format",
                                        "type": "string"
                                    },
                                    "details": {
                                        "additionalProperties": {
                                            "additionalProperties": {},
                                            "type": "object"
                                        },
                                        "description": "details contains any extra information that is operator-specific",
                                        "type": "object"
                                    },
                                    "lastEvaluation": {
                                        "description": "lastEvaluation is the ResourceVersion last evaluated",
                                        "type": "string"
                                    },
                                    "state": {
                                        "description": "state describes the state of the lastEvaluation.\nIt is limited to three possible states for machine evaluation.",
                                        "enum": [
                                            "success",
                                            "in_progress",
                                            "failed"
                                        ],
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "lastEvaluation",
                                    "state"
                                ],
                                "type": "object"
                            },
                            "TestKind": {
                                "properties": {
                                    "mysubresource": {
                                        "$ref": "#/components/schemas/mysubresource"
                                    },
                                    "spec": {
                                        "$ref": "#/components/schemas/spec"
                                    },
                                    "status": {
                                        "$ref": "#/components/schemas/status"
                                    }
                                },
                                "required": [
                                    "spec"
                                ]
                            },
                            "getRecursiveResponseRecursiveType": {
                                "type": "object",
                                "required": [
                                    "message"
                                ],
                                "properties": {
                                    "message": {
                                        "type": "string"
                                    },
                                    "next": {
                                        "$ref": "#/components/schemas/getRecursiveResponseRecursiveType"
                                    }
                                },
                                "additionalProperties": false
                            },
                            "mysubresource": {
                                "additionalProperties": false,
                                "properties": {
                                    "extraValue": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "extraValue"
                                ],
                                "type": "object"
                            },
                            "spec": {
                                "additionalProperties": false,
                                "properties": {
                                    "foo": {
                                        "$ref": "#/components/schemas/Foo"
                                    },
                                    "testField": {
                                        "default": "default value",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "testField",
                                    "foo"
                                ],
                                "type": "object"
                            },
                            "status": {
                                "additionalProperties": false,
                                "properties": {
                                    "additionalFields": {
                                        "additionalProperties": {
                                            "additionalProperties": {},
                                            "type": "object"
                                        },
                                        "description": "additionalFields is reserved for future use",
                                        "type": "object"
                                    },
                                    "operatorStates": {
                                        "additionalProperties": {
                                            "$ref": "#/components/schemas/OperatorState"
                                        },
                                        "description": "operatorStates is a map of operator ID to operator state evaluations.\nAny operator which consumes this kind SHOULD add its state evaluation information to this field.",
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        },
                        "selectableFields": [
                            ".spec.testField"
                        ],
                        "conversion": true,
                        "routes": {
                            "/bar": {
                                "get": {
                                    "operationId": "getMessage",
                                    "responses": {
                                        "default": {
                                            "description": "Default OK response",
                                            "content": {
                                                "application/json": {
                                                    "schema": {
                                                        "type": "object",
                                                        "required": [
                                                            "message",
                                                            "apiVersion",
                                                            "kind"
                                                        ],
                                                        "properties": {
                                                            "apiVersion": {
                                                                "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
                                                                "type": "string"
                                                            },
                                                            "kind": {
                                                                "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
                                                                "type": "string"
                                                            },
                                                            "message": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "additionalProperties": false
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "/foo": {
                                "get": {
                                    "operationId": "getFoo",
                                    "parameters": [
                                        {
                                            "name": "foo",
                                            "in": "query",
                                            "required": true,
                                            "schema": {
                                                "type": "string"
                                            }
                                        }
                                    ],
                                    "requestBody": {
                                        "content": {
                                            "application/json": {
                                                "schema": {
                                                    "type": "object",
                                                    "required": [
                                                        "bar"
                                                    ],
                                                    "properties": {
                                                        "bar": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "additionalProperties": false
                                                }
                                            }
                                        },
                                        "required": true
                                    },
                                    "responses": {
                                        "default": {
                                            "description": "Default OK response",
                                            "content": {
                                                "application/json": {
                                                    "schema": {
                                                        "type": "object",
                                                        "required": [
                                                            "status",
                                                            "apiVersion",
                                                            "kind",
                                                            "metadata"
                                                        ],
                                                        "properties": {
                                                            "apiVersion": {
                                                                "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
                                                                "type": "string"
                                                            },
                                                            "kind": {
                                                                "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
                                                                "type": "string"
                                                            },
                                                            "metadata": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "annotations": {
                                                                        "type": "object",
                                                                        "additionalProperties": {
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "creationTimestamp": {
                                                                        "type": "string",
                                                                        "format": "date-time"
                                                                    },
                                                                    "deletionGracePeriodSeconds": {
                                                                        "type": "integer",
                                                                        "format": "int64"
                                                                    },
                                                                    "deletionTimestamp": {
                                                                        "type": "string",
                                                                        "format": "date-time"
                                                                    },
                                                                    "finalizers": {
                                                                        "type": "array",
                                                                        "items": {
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "generateName": {
                                                                        "type": "string"
                                                                    },
                                                                    "generation": {
                                                                        "type": "integer",
                                                                        "format": "int64"
                                                                    },
                                                                    "labels": {
                                                                        "type": "object",
                                                                        "additionalProperties": {
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "managedFields": {
                                                                        "type": "array",
                                                                        "items": {
                                                                            "type": "object",
                                                                            "properties": {
                                                                                "apiVersion": {
                                                                                    "type": "string"
                                                                                },
                                                                                "fieldsType": {
                                                                                    "type": "string"
                                                                                },
                                                                                "fieldsV1": {
                                                                                    "type": "object"
                                                                                },
                                                                                "manager": {
                                                                                    "type": "string"
                                                                                },
                                                                                "operation": {
                                                                                    "type": "string"
                                                                                },
                                                                                "subresource": {
                                                                                    "type": "string"
                                                                                },
                                                                                "time": {
                                                                                    "type": "string",
                                                                                    "format": "date-time"
                                                                                }
                                                                            }
                                                                        }
                                                                    },
                                                                    "name": {
                                                                        "type": "string"
                                                                    },
                                                                    "namespace": {
                                                                        "type": "string"
                                                                    },
                                                                    "ownerReferences": {
                                                                        "type": "array",
                                                                        "items": {
                                                                            "type": "object",
                                                                            "required": [
                                                                                "apiVersion",
                                                                                "kind",
                                                                                "name",
                                                                                "uid"
                                                                            ],
                                                                            "properties": {
                                                                                "apiVersion": {
                                                                                    "type": "string"
                                                                                },
                                                                                "blockOwnerDeletion": {
                                                                                    "type": "boolean"
                                                                                },
                                                                                "controller": {
                                                                                    "type": "boolean"
                                                                                },
                                                                                "kind": {
                                                                                    "type": "string"
                                                                                },
                                                                                "name": {
                                                                                    "type": "string"
                                                                                },
                                                                                "uid": {
                                                                                    "type": "string"
                                                                                }
                                                                            }
                                                                        }
                                                                    },
                                                                    "resourceVersion": {
                                                                        "type": "string"
                                                                    },
                                                                    "selfLink": {
                                                                        "type": "string"
                                                                    },
                                                                    "uid": {
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "x-grafana-app-uses-kubernetes-object-metadata": true
                                                            },
                                                            "status": {
                                                                "type": "string"
                                                            }
                                                        },
                                                        "additionalProperties": false
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "/recurse": {
                                "get": {
                                    "operationId": "getRecursiveResponse",
                                    "responses": {
                                        "default": {
                                            "description": "Default OK response",
                                            "content": {
                                                "application/json": {
                                                    "schema": {
                                                        "type": "object",
                                                        "required": [
                                                            "message",
                                                            "apiVersion",
                                                            "kind"
                                                        ],
                                                        "properties": {
                                                            "apiVersion": {
                                                                "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
                                                                "type": "string"
                                                            },
                                                            "kind": {
                                                                "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
                                                                "type": "string"
                                                            },
                                                            "message": {
                                                                "type": "string"
                                                            },
                                                            "next": {
                                                                "$ref": "#/components/schemas/getRecursiveResponseRecursiveType"
                                                            }
                                                        },
                                                        "additionalProperties": false
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "routes": {
                    "namespaced": {
                        "/foobar": {
                            "get": {
                                "operationId": "getFoobar",
                                "parameters": [
                                    {
                                        "name": "foo",
                                        "in": "query",
                                        "required": true,
                                        "schema": {
                                            "type": "string"
                                        }
                                    }
                                ],
                                "requestBody": {
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "required": [
                                                    "input",
                                                    "shared"
                                                ],
                                                "properties": {
                                                    "input": {
                                                        "type": "string"
                                                    },
                                                    "shared": {
                                                        "$ref": "#/components/schemas/getFoobarSharedType"
                                                    }
                                                },
                                                "additionalProperties": false
                                            }
                                        }
                                    },
                                    "required": true
                                },
                                "responses": {
                                    "default": {
                                        "description": "Default OK response",
                                        "content": {
                                            "application/json": {
                                                "schema": {
                                                    "type": "object",
                                                    "required": [
                                                        "foo",
                                                        "shared",
                                                        "apiVersion",
                                                        "kind"
                                                    ],
                                                    "properties": {
                                                        "apiVersion": {
                                                            "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
                                                            "type": "string"
                                                        },
                                                        "foo": {
                                                            "type": "string"
                                                        },
                                                        "kind": {
                                                            "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
                                                            "type": "string"
                                                        },
                                                        "shared": {
                                                            "$ref": "#/components/schemas/getFoobarSharedType"
                                                        }
                                                    },
                                                    "additionalProperties": false
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "cluster": {
                        "/foobar": {
                            "get": {
                                "operationId": "getClusterFoobar",
                                "responses": {
                                    "default": {
                                        "description": "Default OK response",
                                        "content": {
                                            "application/json": {
                                                "schema": {
                                                    "type": "object",
                                                    "required": [
                                                        "bar",
                                                        "extra",
                                                        "apiVersion",
                                                        "kind"
                                                    ],
                                                    "properties": {
                                                        "apiVersion": {
                                                            "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
                                                            "type": "string"
                                                        },
                                                        "bar": {
                                                            "type": "string"
                                                        },
                                                        "extra": {
                                                            "type": "object",
                                                            "additionalProperties": {
                                                                "$ref": "#/components/schemas/getClusterFoobarExtra"
                                                            }
                                                        },
                                                        "kind": {
                                                            "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "additionalProperties": false
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "schemas": {
                        "getClusterFoobarExtra": {
                            "type": "object",
                            "required": [
                                "foo"
                            ],
                            "properties": {
                                "foo": {
                                    "type": "string"
                                }
                            },
                            "additionalProperties": false
                        },
                        "getFoobarSharedType": {
                            "description": "Test type for go naming conflicts",
                            "type": "object",
                            "required": [
                                "bar"
                            ],
                            "properties": {
                                "bar": {
                                    "type": "string"
                                }
                            },
                            "additionalProperties": false
                        }
                    }
                }
            },
            {
                "name": "v2alpha1",
                "served": true,
                "kinds": [],
                "routes": {
                    "namespaced": {
                        "/example": {
                            "get": {
                                "operationId": "getExample",
                                "responses": {
                                    "default": {
                                        "description": "Default OK response",
                                        "content": {
                                            "application/json": {
                                                "schema": {
                                                    "type": "object",
                                                    "required": [
                                                        "message",
                                                        "apiVersion",
                                                        "kind"
                                                    ],
                                                    "properties": {
                                                        "apiVersion": {
                                                            "description": "APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources",
                                                            "type": "string"
                                                        },
                                                        "kind": {
                                                            "description": "Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds",
                                                            "type": "string"
                                                        },
                                                        "message": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "additionalProperties": false
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        ],
        "preferredVersion": "v1alpha1"
    }
}